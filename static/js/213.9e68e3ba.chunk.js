"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[213],{213:function(t,e,r){r.r(e),r.d(e,{default:function(){return b}});var n=r(861),a=r(439),u=r(757),i=r.n(u),c=r(855),s=r(154),o=r(81),f=r(791),p=r(184);function d(t){var e=t.formSubmit,r=t.errorMessage,n=(0,f.useState)(""),u=(0,a.Z)(n,2),i=u[0],c=u[1];return(0,p.jsx)("div",{children:(0,p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==i?(e(i),c("")):r()},children:[(0,p.jsx)("input",{type:"text",name:"query",autoFocus:!0,value:i,onChange:function(t){c(t.target.value.toLowerCase().trim())},autoComplete:"off",placeholder:"find a movie"}),(0,p.jsx)("button",{type:"submit"})]})})}var v=r(87),l=r(391),m="idle",h="pending",x="rejected",g="resolved",b=function(){var t=(0,f.useState)([]),e=(0,a.Z)(t,2),r=e[0],u=e[1],b=(0,v.lr)(),Z=(0,a.Z)(b,2),j=Z[0],w=Z[1],k=(0,f.useState)(null),y=(0,a.Z)(k,2),S=y[0],_=y[1],C=(0,f.useState)(m),q=(0,a.Z)(C,2),z=q[0],M=q[1];(0,f.useEffect)((function(){var t=j.get("query"),e=function(){var e=(0,n.Z)(i().mark((function e(){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return M(h),e.prev=3,e.next=6,(0,l.z1)(t);case 6:if(r=e.sent,u(r),M(g),_(""),0!==r.length){e.next=15;break}return u([]),_("Movie don't find."),M(x),e.abrupt("return");case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(3),M(x),_(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}();e()}),[j]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(d,{formSubmit:function(t){w({query:t})},errorMessage:function(){_("You didn't enter anything! Try again in English!"),u([]),M(x)}}),z===x&&(0,p.jsx)(c.Z,{message:S}),z===g&&(0,p.jsx)(o.Z,{movies:r}),z===h&&(0,p.jsx)(s.Z,{})]})}},391:function(t,e,r){r.d(e,{zv:function(){return f},TP:function(){return o},tx:function(){return p},Df:function(){return c},z1:function(){return s}});var n=r(861),a=r(757),u=r.n(a),i=r(243);i.Z.defaults.baseURL="https://api.themoviedb.org/3",i.Z.defaults.params={api_key:"839ee1ac45e2249141bd738796b376ad",adult:!1,language:"en-US"};var c=function(){var t=(0,n.Z)(u().mark((function t(){var e,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/trending/movie/day");case 2:return e=t.sent,r=e.data,t.abrupt("return",r.results);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n,a,c=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:1,t.next=3,i.Z.get("/search/movie?query=".concat(e,"&page=").concat(r));case 3:return n=t.sent,a=n.data,t.abrupt("return",a.results);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(e));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(e,"/credits"));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.Z.get("/movie/".concat(e,"/reviews"));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},855:function(t,e,r){r.d(e,{Z:function(){return a}});var n=r(184);function a(t){var e=t.message;return(0,n.jsx)("div",{children:(0,n.jsx)("p",{children:e})})}},81:function(t,e,r){r.d(e,{Z:function(){return c}});var n=r(689),a=r(87),u=r(184),i=function(t){var e=t.id,r=t.title,i=t.poster,c=(0,n.TH)();return(0,u.jsx)("li",{children:(0,u.jsxs)(a.rU,{to:"/movies/".concat(e),state:{from:c},children:[(0,u.jsx)("div",{children:(0,u.jsx)("img",{src:i?"https://image.tmdb.org/t/p/w500".concat(i):"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f9/No-image-available.jpg/640px-No-image-available.jpg",alt:"{title}"})}),(0,u.jsx)("h2",{children:r||"No tittle"})]})})},c=function(t){var e=t.movies;return(0,u.jsx)("ul",{children:e.map((function(t){var e=t.id,r=t.title,n=t.poster_path;return(0,u.jsx)(i,{id:e,title:r,poster:n},e)}))})}}}]);
//# sourceMappingURL=213.9e68e3ba.chunk.js.map